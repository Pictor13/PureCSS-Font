function switcher(e,t,r,a){var i='"></i>',n='<i class="AZ sp"></i></i><i class="azwd">';a&&(n='<i class="AZ sp"></i>');var o,l=e,t=t,s="0123456789".indexOf(e)>=0;if(" "===e)o=n;else if("\n"===e||"\r"===e)o='<i class="AZ sp"></i></i><br><i class="azwd">';else if(s)o='<i class="AZ d'+e+i;else if(e.match(/[a-zA-Z]/i)){var c="l";e===e.toUpperCase()&&(c="u"),o='<i class="AZ '+c+e.toLowerCase()+i}else l="_"+t,o='<i class="AZ '+l+i;return o}function runConverter(){for(var e=[],t=0;t<entry.value.length;t++)e.push(switcher(entry.value.charAt(t),entry.value.charCodeAt(t),!1));result.innerHTML='<i class="azwd">'+e.join("")+"</i>",runCoder()}function runCoder(){codehtml.style.display="block",window.scrollTo(0,codehtml.offsetTop);var e=texteditor.innerHTML.replace(/<div id="cursorline"><\/div>/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/i class="(.*?)"/g,'<em class="el">i</em> <em class="cl">class</em>="<em class="nm">$1</em>"').replace(/\/i/g,'<em class="el">/i</em>');codearea.innerHTML=e}function changeFontColor(){texteditor.style.color=fontcolor.value,runCoder()}function changeBackgroundColor(){texteditor.style.backgroundColor=backgroundcolor.value,runCoder()}function changeFontSize(){result.style.fontSize=fontsize.value+"px"}document.body.addEventListener("keydown",function(e){if(e=e||window.event,texteditor===document.activeElement&&(8==e.keyCode||46==e.keyCode||8==e.charCode||46==e.charCode)){e.preventDefault();var t=cursorline.previousElementSibling;if(null!==t)t.parentNode.removeChild(t);else{var r=cursorline.parentNode.previousElementSibling,a=r.querySelectorAll(".sp")[0];cursorline.parentNode.removeChild(cursorline),a.parentNode.removeChild(a),r.insertAdjacentHTML("beforeend",'<div id="cursorline"></div>')}}}),document.body.addEventListener("keypress",function(e){e=e||window.event;var t=e.which||e.keyCode,r=String.fromCharCode(t);if(texteditor===document.activeElement&&(cursorline.insertAdjacentHTML("beforebegin",switcher(r,t,!1,!0))," "===r)){e.preventDefault();var a=cursorline.parentNode;cursorline.parentNode.removeChild(cursorline),a.insertAdjacentHTML("afterend",'<i class="azwd"><div id="cursorline"></div></i>')}}),document.body.addEventListener("click",function(e){if("BUTTON"===e.target.tagName&&e.target.attributes){if(e.target.attributes["data-stb"]){var t=e.target.attributes["data-az-style"].nodeValue;"selected"===e.target.className?(texteditor.setAttribute("data-az-"+t,"false"),e.target.className=""):(texteditor.setAttribute("data-az-"+t,"true"),e.target.className="selected")}if(e.target.attributes["data-az-align"]){var r=e.target.attributes["data-az-align"].nodeValue;Array.prototype.forEach.call(document.querySelectorAll("button[data-az-align]"),function(e,t){e.className=""}),texteditor.setAttribute("data-az-align",r),e.target.className="selected"}}});